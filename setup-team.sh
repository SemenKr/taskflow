#!/bin/bash

echo "üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ TaskFlow..."

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Node.js
if ! command -v node &> /dev/null
then
  echo "‚ùå Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏ Node.js –≤–µ—Ä—Å–∏–∏ 18 –∏–ª–∏ –≤—ã—à–µ —Å —Å–∞–π—Ç–∞ https://nodejs.org/"
  exit 1
fi
echo "‚úÖ Node.js –Ω–∞–π–¥–µ–Ω: $(node -v)"

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ PNPM
if ! command -v pnpm &> /dev/null
then
  echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º PNPM..."
  npm install -g pnpm
else
  echo "‚úÖ PNPM –Ω–∞–π–¥–µ–Ω: $(pnpm -v)"
fi

# 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo "üì• –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
pnpm install

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Husky (pre-commit —Ö—É–∫–æ–≤)
echo "üîß –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Husky..."
pnpm dlx husky install

echo "‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!"
echo ""
echo "üëâ –ó–∞–ø—É—Å—Ç–∏ dev-—Å–µ—Ä–≤–µ—Ä –∫–æ–º–∞–Ω–¥–æ–π:"
echo "   pnpm dev"
echo ""
echo "üéØ –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –∫–æ–¥ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è."
